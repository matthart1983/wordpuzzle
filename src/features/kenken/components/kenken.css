.kenken-root{display:flex;flex-direction:column;min-height:100vh;background:var(--color-background);color:var(--color-text)}
.kenken-board{display:grid;gap:2px;background:var(--color-border);border:3px solid var(--color-border);border-radius:8px;padding:2px;margin:10px 0}
.kenken-cell-wrapper{position:relative}
.kenken-cell{position:relative;box-sizing:border-box;aspect-ratio:1/1;background:var(--color-background);border:1px solid var(--color-border);display:flex;align-items:center;justify-content:center;color:var(--color-text);font-weight:600;transition:all .15s ease}
.kenken-cell:hover{background:var(--color-key-hover)}
.kenken-cell.selected{background:var(--color-correct);color:#fff;transform:scale(1.05);z-index:2;box-shadow:0 2px 8px rgba(0,0,0,.2)}
.kenken-cell.conflict{background:var(--color-tile-absent,#7a7c7e);color:#fff;animation:shake .5s ease-in-out}
.kenken-cell .cell-value{font-size:1.3rem}
.kenken-cell .cell-notes{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;gap:1px;width:90%;height:90%;opacity:.8}
.kenken-cell .cell-notes span{font-size:.7rem;display:flex;align-items:center;justify-content:center;color:var(--color-text-secondary)}
.kenken-cell .cell-notes .note-on{color:var(--color-text)}
.cage-label{position:absolute;top:2px;left:4px;font-size:.7rem;color:var(--color-text-secondary);opacity:.9}
.kenken-toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.kenken-toolbar .group{display:flex;gap:6px;align-items:center}
.kenken-toolbar button{padding:8px 12px;border-radius:6px;border:1px solid var(--color-border);background:var(--color-key-background);color:var(--color-text);cursor:pointer;transition:all .15s ease}
.kenken-toolbar button:hover{background:var(--color-key-hover);transform:translateY(-1px)}
.kenken-toolbar button.active{background:var(--color-correct);border-color:var(--color-correct);color:#fff}
.kenken-toolbar select{padding:8px 12px;background:var(--color-background);color:var(--color-text);border:2px solid var(--color-border);border-radius:6px}

@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-4px)}75%{transform:translateX(4px)}}